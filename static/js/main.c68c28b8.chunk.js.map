{"version":3,"sources":["images/heart.png","Instafeed.js","Photoboard.js","App.js","index.js"],"names":["module","exports","Instafeed","props","state","all_photos","displayed_photos","additional_photos","num_photos_displayed","server_url","getPhotos","bind","handleShowMore","window","addEventListener","this","removeEventListener","axios","get","then","res","setState","data","Object","values","slice","number_of_new_photos_to_display","checkForAdditionalPhotos","catch","err","console","log","length","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","id","map","photo","index","className","key","timestamp","href","permalink","src","media_type","thumbnail_url","media_url","alt","caption","require","React","Component","Photoboard","App","ReactDOM","render","getElementById"],"mappings":"wIAAAA,EAAOC,QAAU,IAA0B,mC,yJCIrCC,G,wDAWF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAXVC,MAAQ,CACJC,WAAY,GACZC,iBAAkB,GAClBC,mBAAmB,EACnBC,qBAAsB,IAMP,EAJnBC,WAEM,+CAKF,EAAKC,YAEL,EAAKA,UAAY,EAAKA,UAAUC,KAAf,gBACjB,EAAKC,eAAiB,EAAKA,eAAeD,KAApB,gBANP,E,gEAYfE,OAAOC,iBAAiB,SAAUC,KAAKH,kB,6CAIvCC,OAAOG,oBAAoB,SAAUD,KAAKH,kB,kCAGjC,IAAD,OACRK,IAAMC,IAAN,UAAaH,KAAKN,WAAlB,iBACCU,MAAK,SAAAC,GACF,EAAKC,SAAS,CACVhB,WAAYe,EAAIE,KAChBhB,iBAAkBiB,OAAOC,OAAOJ,EAAIE,MAAMG,MAAM,EAAG,EAAKrB,MAAMI,sBAC9DA,qBAAsB,EAAKJ,MAAMI,qBAAuBN,EAAUwB,kCAEtE,EAAKC,8BAERC,OAAM,SAAAC,GACHC,QAAQC,IAAIF,Q,iDAKZd,KAAKX,MAAMI,qBAAuBO,KAAKX,MAAMC,WAAW2B,OACxDjB,KAAKM,SAAS,CAAEd,mBAAmB,IAEnCQ,KAAKM,SAAS,CAAEd,mBAAmB,M,uCAKnCM,OAAOoB,YAAcC,SAASC,gBAAgBC,UAAY,GAAKF,SAASG,iBAAiBC,eACzFvB,KAAKM,SAAS,CACVf,iBAAkBiB,OAAOC,OAAOT,KAAKX,MAAMC,YAAYoB,MAAM,EAAGV,KAAKX,MAAMI,sBAC3EA,qBAAsBO,KAAKX,MAAMI,qBAAuBN,EAAUwB,kCAEtEX,KAAKY,8B,+BAKT,OACI,yBAAKY,GAAG,aACFxB,KAAKX,MAAME,iBAAiBkC,KAAI,SAACC,EAAOC,GACtC,OACI,yBACIC,UAAU,uCACVC,IAAKH,EAAMI,WAEX,uBAAGC,KAAML,EAAMM,WACX,yBAAKJ,UAAU,aACX,yBAAKA,UAAU,cACX,yBACIK,IAA0B,UAArBP,EAAMQ,WACLR,EAAMS,cACNT,EAAMU,UAEZC,IAAKX,EAAMY,WAGnB,yBAAKV,UAAU,SAAQ,yBAAKK,IAAKM,EAAQ,IAAuBF,IAAI,sB,GAnFhFG,IAAMC,YAAxBtD,EAoBKwB,gCAAkC,GA0E5BxB,QC3EFuD,MAnBf,WACI,OACI,yBAAKlB,GAAG,YACJ,yBAAKI,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,qBACX,2DACA,yBAAKA,UAAU,mBACX,kBAAC,EAAD,a,MCDjBe,MARf,WACI,OACI,6BACI,kBAAC,EAAD,QCHZC,IAASC,OACL,kBAAC,EAAD,MACA1B,SAAS2B,eAAe,W","file":"static/js/main.c68c28b8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/heart.5365673f.png\";","import React from \"react\"\nimport axios from \"axios\"\nimport 'dotenv/config'\n\nclass Instafeed extends React.Component {\n    state = {\n        all_photos: [],\n        displayed_photos: [],\n        additional_photos: true,\n        num_photos_displayed: 32,\n    }\n    server_url = (process.env.NODE_ENV === 'development')\n        ? 'http://localhost:3000'\n        : 'https://cookingsousviv-backend.herokuapp.com'\n\n    constructor(props) {\n        super(props)\n\n        this.getPhotos()\n\n        this.getPhotos = this.getPhotos.bind(this)\n        this.handleShowMore = this.handleShowMore.bind(this)\n    }\n\n    static number_of_new_photos_to_display = 32\n\n    componentDidMount(){\n        window.addEventListener('scroll', this.handleShowMore);\n    }\n    \n    componentWillUnmount(){\n        window.removeEventListener('scroll', this.handleShowMore);\n    }\n\n    getPhotos() {\n        axios.get(`${this.server_url}/instaPhotos`)\n        .then(res => {\n            this.setState({ \n                all_photos: res.data,\n                displayed_photos: Object.values(res.data).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display \n            });\n            this.checkForAdditionalPhotos()\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    checkForAdditionalPhotos() {\n        if (this.state.num_photos_displayed < this.state.all_photos.length) {\n            this.setState({ additional_photos: true })\n        } else {\n            this.setState({ additional_photos: false })  \n        }\n    }\n\n    handleShowMore() {\n        if (window.innerHeight + document.documentElement.scrollTop + 1 >= document.scrollingElement.scrollHeight) {\n            this.setState({ \n                displayed_photos: Object.values(this.state.all_photos).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display \n            })\n            this.checkForAdditionalPhotos()\n        }\n    }\n\n    render() {\n        return(\n            <div id=\"instafeed\">\n                { this.state.displayed_photos.map((photo, index) => {\n                    return(\n                        <div \n                            className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3\" \n                            key={photo.timestamp}\n                        >\n                            <a href={photo.permalink}>\n                                <div className=\"photo-box\">\n                                    <div className=\"image-wrap\">\n                                        <img \n                                            src={photo.media_type === \"VIDEO\"\n                                                ? photo.thumbnail_url\n                                                : photo.media_url\n                                            } \n                                            alt={photo.caption} \n                                        />\n                                    </div>\n                                    <div className=\"likes\"><img src={require('./images/heart.png')} alt=\"heart\" /></div>\n                                </div>\n                            </a>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n  }\n\n  export default Instafeed","import React from \"react\"\nimport Instafeed from \"./Instafeed\"\n    \n\nfunction Photoboard() {\n    return(\n        <div id=\"homepage\">\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <div className=\"instagram-content\">\n                            <h3>- recently in the kitchen -</h3>\n                            <div className=\"row photos-wrap\">\n                                <Instafeed />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Photoboard","import React from \"react\"\nimport Photoboard from \"./Photoboard\"\nimport \"./styles.css\"\n\nfunction App() {\n    return (\n        <div>\n            <Photoboard />\n        </div>\n    )\n}\n\nexport default App","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(\n    <App />,\n    document.getElementById(\"root\")\n)"],"sourceRoot":""}