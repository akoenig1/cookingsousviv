{"version":3,"sources":["components/Navbar.js","context/auth-context.js","components/ProtectedRoute.js","components/Instafeed.js","components/WelcomeMessage.js","components/Photoboard.js","pages/home.js","components/ComingSoon.js","pages/about.js","pages/contact.js","pages/favorites.js","hooks/useHttpClient.js","components/SelectPhoto.js","components/WriteRecipe.js","pages/recipes/create.js","pages/recipes/update.js","pages/recipes/delete.js","hooks/useInput.js","components/Comment.js","components/Icons.js","components/LikeRecipe.js","components/Recipe.js","pages/recipes/index.js","components/Unauthorized.js","Routes.js","components/Auth.js","App.js","index.js"],"names":["Navbar","className","id","exact","activeClassName","to","href","target","rel","AuthContext","createContext","isLoggedIn","userId","token","isAdmin","login","logout","ProtectedRoute","Component","component","rest","auth","useContext","render","props","pathname","state","from","location","Instafeed","all_photos","displayed_photos","additional_photos","num_photos_displayed","is_loading","server_url","getPhotos","bind","handleShowMore","window","addEventListener","this","removeEventListener","axios","get","then","res","setState","data","photos","Object","values","slice","number_of_new_photos_to_display","checkForAdditionalPhotos","catch","err","console","log","length","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","map","photo","index","permalink","src","media_type","thumbnail_url","media_url","alt","caption","timestamp","React","WelcomeMessage","Photoboard","Home","ComingSoon","About","Contact","Favorites","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","method","headers","a","body","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","SelectPhoto","allPhotos","setAllPhotos","selectedPhoto","setSelectedPhoto","useFormProgress","active","onClick","e","event","preventDefault","classList","add","JSON","parse","getAttribute","stringify","WriteRecipe","TextField","label","margin","variant","fullWidth","defaultValue","title","onChange","handleChange","multiline","rows","intro","ingredients","directions","tags","currentStep","setCurrentStep","CreateRecipe","history","useHistory","goForward","goBack","handleSubmit","formData","Authorization","replace","steps","value","isFirst","isLast","onSubmit","Button","color","type","UpdateRecipe","recipe","DeleteRecipe","alert","useInput","setValue","Comment","comment","recipeId","userAuthor","name","guestAuthor","isCommentMine","_id","HeartIcon","aria-label","fill","height","viewBox","width","d","FilledHeartIcon","LikeRecipe","isLiked","incLikes","decLikes","liked","setLiked","handleToggleLike","Recipe","updating","setUpdating","instaPhoto","comments","likes","likesCount","fetched","setRecipe","likesState","setLikes","handleCommentDelete","mounted","header","getRecipe","recipePage","setTimeout","i","placeholder","registeredUser","userInfo","Recipes","recipes","setRecipes","match","matchPath","path","params","recipe_list","getRecipeList","Unauthorized","Routes","Auth","button","clientId","process","buttonText","onSuccess","Axios","tokenId","user","admin","onFailure","cookiePolicy","App","setUserId","setIsAdmin","setToken","uid","expirationDate","tokenExpirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","storedData","getItem","Provider","ReactDOM","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.46f47df2.chunk.js","sourcesContent":["import React from \"react\"\nimport { NavLink } from \"react-router-dom\"\n\nfunction Navbar() {\n    return(\n        <header>\n            <nav className=\"navbar\">\n                <h1>Cooking <br></br> Sous <div id=\"script\">Viv</div></h1>\n                <ul className=\"nav navbar-nav navbar-right\">\n                    <li>\n                        <NavLink \n                            exact\n                            activeClassName=\"navbar__link--active\"\n                            className=\"navbar__link\" \n                            to=\"/\"\n                        >\n                        HOME\n                        </NavLink>\n                    </li>\n                    <li>\n                        <NavLink\n                        activeClassName=\"navbar__link--active\"\n                        className=\"navbar__link\" \n                        to=\"/recipes\"\n                        >\n                        RECIPES\n                        </NavLink>\n                    </li>\n                    <li>\n                    <NavLink\n                        activeClassName=\"navbar__link--active\"\n                        className=\"navbar__link\" \n                        to=\"/favorites\"\n                        >\n                        FAVORITES\n                        </NavLink>\n                    </li>\n                    <li>\n                    <NavLink\n                        activeClassName=\"navbar__link--active\"\n                        className=\"navbar__link\" \n                        to=\"/about\"\n                        >\n                        ABOUT\n                        </NavLink>\n                    </li>\n                    <li>\n                    <NavLink\n                        activeClassName=\"navbar__link--active\"\n                        className=\"navbar__link\" \n                        to=\"/contact\"\n                        >\n                        CONTACT\n                        </NavLink>\n                    </li>\n                    <div id=\"navbar-underline\"></div>\n                    <div id=\"social-bar\">\n                        <ul>\n                            <li><a className=\"social-link\" href=\"https://www.instagram.com/cookingsousviv/\" target=\"_blank\" rel=\"noreferrer\"><i className=\"fab fa-instagram fa-lg\"></i></a></li>\n                        </ul>\n                    </div>\n                </ul>\n            </nav>\n        </header>\n    )\n}\n\nexport default Navbar","import { createContext } from 'react';\n\nexport const AuthContext = createContext({\n  isLoggedIn: false,\n  userId: null,\n  token: null,\n  isAdmin: false,\n  login: () => {},\n  logout: () => {},\n});","import React, { Component, useContext } from \"react\"; // eslint-disable-line no-unused-vars\nimport { Route, Redirect } from \"react-router-dom\"\nimport { AuthContext } from \"../context/auth-context\"\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n    const auth = useContext(AuthContext);\n\n    return(\n        <Route {...rest} render={\n            props => {\n                if (auth.isAdmin) {\n                    return <Component {...rest} {...props} />\n                } else {\n                    return <Redirect to={\n                        {\n                            pathname: '/unauthorized',\n                            state: {\n                                from: props.location\n                            }\n                        }\n                    } />\n                }\n            }\n        } />\n    )\n}\n\nexport default ProtectedRoute;","import React from \"react\"\nimport axios from \"axios\"\nimport 'dotenv/config'\n\nclass Instafeed extends React.Component {\n    state = {\n        all_photos: [],\n        displayed_photos: [],\n        additional_photos: true,\n        num_photos_displayed: 32,\n        is_loading: true\n    }\n    server_url = (process.env.NODE_ENV === 'development')\n        ? 'http://localhost:5000'\n        : 'https://cookingsousviv-backend.herokuapp.com'\n\n    constructor(props) {\n        super(props)\n\n        this.getPhotos()\n\n        this.getPhotos = this.getPhotos.bind(this)\n        this.handleShowMore = this.handleShowMore.bind(this)\n    }\n\n    static number_of_new_photos_to_display = 32\n\n    componentDidMount(){\n        window.addEventListener('scroll', this.handleShowMore);\n    }\n    \n    componentWillUnmount(){\n        window.removeEventListener('scroll', this.handleShowMore);\n    }\n\n    getPhotos() {\n        axios.get(`${this.server_url}/instaPhotos`)\n        .then(res => {\n            this.setState({ \n                all_photos: res.data.photos,\n                displayed_photos: Object.values(res.data.photos).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display,\n                is_loading: false\n            });\n            this.checkForAdditionalPhotos()\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    checkForAdditionalPhotos() {\n        if (this.state.num_photos_displayed < this.state.all_photos.length) {\n            this.setState({ additional_photos: true })\n        } else {\n            this.setState({ additional_photos: false })  \n        }\n    }\n\n    handleShowMore() {\n        if (window.innerHeight + document.documentElement.scrollTop + 1 >= document.scrollingElement.scrollHeight) {\n            this.setState({ \n                displayed_photos: Object.values(this.state.all_photos).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display \n            })\n            this.checkForAdditionalPhotos()\n        }\n    }\n\n    render() {\n        if(this.state.is_loading) {\n            return(\n                <div>\n                    <h3>Loading...</h3>\n                </div>\n            )\n        }\n        return(\n            <div id=\"instafeed\">\n                { this.state.displayed_photos.map((photo, index) => {\n                    return(\n                        <div \n                            className=\"col-xs-12 col-sm-6 col-md-4\" \n                            key={photo.timestamp}\n                        >\n                            <a href={photo.permalink}>\n                                <div className=\"image-container\">\n                                    <img \n                                        className=\"img-fluid\"\n                                        src={photo.media_type === \"VIDEO\"\n                                            ? photo.thumbnail_url\n                                            : photo.media_url\n                                        } \n                                        alt={photo.caption} \n                                    />\n                                </div>\n                            </a>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n  }\n\n  export default Instafeed","import React from \"react\"\n\nfunction WelcomeMessage() {\n    return(\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-lg-6 welcome-message center-block\">\n                    <h2 className=\"text-center\">\n                        Welcome to my website! We're still under\n                        development, but the blog will be up and\n                        running very soon (along with a few other\n                        exciting features)!\n                    </h2>\n                </div>\n                <div className=\"col\"></div>\n            </div>\n        </div>\n    )\n}\n\nexport default WelcomeMessage","import React from \"react\"\nimport Instafeed from \"./Instafeed\"\nimport WelcomeMessage from \"./WelcomeMessage\"    \n\nfunction Photoboard() {\n    return(\n        <div id=\"homepage\">\n            <WelcomeMessage></WelcomeMessage>\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-xs-12\">\n                        <div className=\"instagram-content\">\n                            <h3>- recently in the kitchen -</h3>\n                            <div className=\"row photos-wrap\">\n                                <Instafeed />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Photoboard","import React from \"react\"\nimport Photoboard from \"../components/Photoboard\"\n\nfunction Home() {\n    return(\n        <div>\n            <Photoboard />\n        </div>\n    )\n}\n\nexport default Home","import React from \"react\"\n\nfunction ComingSoon() {\n    return(\n        <div className=\"container\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col\"></div>\n                <div className=\"col\" id=\"coming-soon\">\n                    <h2 className=\"text-center\">\n                        Hang in there...coming soon!\n                    </h2>\n                </div>\n                <div className=\"col\"></div>\n            </div>\n        </div>\n    )\n}\n\nexport default ComingSoon","import React from \"react\"\nimport ComingSoon from \"../components/ComingSoon\"\n\nfunction About() {\n    return(\n        <div>\n            <h1>ABOUT ME</h1>\n            <ComingSoon></ComingSoon>\n        </div>\n    )\n}\n\nexport default About","import React from \"react\"\nimport ComingSoon from \"../components/ComingSoon\"\n\nfunction Contact() {\n    return(\n        <div>\n            <h1>CONTACT</h1>\n            <ComingSoon></ComingSoon>\n        </div>\n    )\n}\n\nexport default Contact","import React from \"react\"\nimport ComingSoon from \"../components/ComingSoon\"\n\nfunction Favorites() {\n    return(\n        <div>\n            <h1>FAVORITES</h1>\n            <ComingSoon></ComingSoon>\n        </div>\n    )\n}\n\nexport default Favorites","import { useState, useCallback, useRef, useEffect } from 'react';\n\nexport const useHttpClient = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState();\n\n  const activeHttpRequests = useRef([]);\n\n  const sendRequest = useCallback(\n    async (url, method, headers, body = {}) => {\n      setIsLoading(true);\n      const httpAbortCtrl = new AbortController();\n      activeHttpRequests.current.push(httpAbortCtrl);\n      if(method === 'GET' || method === 'DELETE') { body = null; }\n\n      try {\n        const response = await fetch( url, {\n          method: method,\n          headers: headers,\n          body: body,\n          signal: httpAbortCtrl.signal,\n        });\n\n        const responseData = await response.json();\n\n        activeHttpRequests.current = activeHttpRequests.current.filter(\n          reqCtrl => reqCtrl !== httpAbortCtrl\n        );\n\n        if(!response.ok) {\n          throw new Error(responseData.message);\n        }\n\n        setIsLoading(false);\n        return responseData;\n      } catch (err) {\n        setError(err.message);\n        setIsLoading(false);\n        throw err;\n      }\n    }, []\n  );\n\n  const clearError = () => {\n    setError(null);\n  };\n\n  useEffect( () => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort());\n    };\n  }, [] );\n\n  return { isLoading, error, sendRequest, clearError };\n}","import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport 'dotenv/config'\n\nconst SelectPhoto = (props) => {\n    const [allPhotos, setAllPhotos] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [selectedPhoto, setSelectedPhoto] = useState();\n    const [currentStep, goForward, goBack] = props.useFormProgress();\n    const server_url = (process.env.NODE_ENV === 'development')\n        ? 'http://localhost:5000'\n        : 'https://cookingsousviv-backend.herokuapp.com'\n\n    const getPhotos = () => {\n        axios.get(`${server_url}/instaPhotos`)\n        .then(res => {\n            setAllPhotos(res.data.photos);\n            setIsLoading(false);\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    const handleClick = (event) => {\n        event.preventDefault();\n        // goForward();\n        setSelectedPhoto(event.target);\n        event.target.classList.add('active')\n        props.setState({photo: JSON.parse(event.target.getAttribute('photo'))});\n    }\n\n    useEffect( () => {\n        getPhotos()\n    });\n\n    if(isLoading) {\n        return(\n            <div>\n                <h3>Loading...</h3>\n            </div>\n        )\n    }\n    return(\n        <div id=\"instafeed\">\n            <h3>Select the photo you'd like to associate with this recipe:</h3>\n            { allPhotos.map((photo) => {\n                if(photo) {\n                    return(\n                        <div\n                            className=\"col-xs-12 col-sm-6 col-md-4\" \n                            key={photo.timestamp}\n                            useFormProgress={props.useFormProgress}\n                            active={photo === selectedPhoto}\n                            onClick={(e) => {handleClick(e)}}\n                        >\n                            <div className=\"image-container\">\n                                <img \n                                    className=\"img-fluid form-img\"\n                                    photo={JSON.stringify(photo)}\n                                    src={photo.media_type === \"VIDEO\"\n                                        ? photo.thumbnail_url\n                                        : photo.media_url\n                                    } \n                                    alt={photo.caption} \n                                />\n                            </div>\n                        </div>\n                    )\n                }\n                return null;\n            })}\n        </div>\n    )\n  }\n\n  export default SelectPhoto;","import React from \"react\";\nimport TextField from '@material-ui/core/TextField';\n\nconst WriteRecipe = (props) => {\n    return(\n      <div>\n        <TextField\n          id='title'\n          label='Title'\n          margin='normal'\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.state.title}\n          onChange={props.handleChange}\n        />\n        <br />\n        <TextField\n          id='intro'\n          label='Intro'\n          multiline\n          rows={20}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.state.intro}\n          onChange={props.handleChange}\n        />\n        <br />\n        <TextField\n          id='ingredients'\n          label='Ingredients'\n          multiline\n          rows={20}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.state.ingredients}\n          onChange={props.handleChange}\n        />\n        <br />\n        <TextField\n          id='directions'\n          label='Directions'\n          multiline\n          rows={40}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.state.directions}\n          onChange={props.handleChange}\n        />\n        <br />\n        <TextField\n          id='tags'\n          label='Tags'\n          multiline\n          rows={6}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.state.tags}\n          onChange={props.handleChange}\n        />\n        <br />\n      </div>\n    )\n}\n\nexport default WriteRecipe;","import React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useHttpClient } from '../../hooks/useHttpClient';\nimport { AuthContext } from '../../context/auth-context';\nimport SelectPhoto from '../../components/SelectPhoto';\nimport WriteRecipe from '../../components/WriteRecipe';\nimport Button from '@material-ui/core/Button';\n\nconst useFormProgress = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n\n  const goForward = () => {\n    setCurrentStep(currentStep + 1);\n  }\n\n  const goBack = () => {\n    setCurrentStep(currentStep - 1);\n  }\n\n  return [currentStep, goForward, goBack];\n}\n\nconst CreateRecipe = () => {\n  const history = useHistory();\n  const { sendRequest } = useHttpClient();\n  const [currentStep, goForward, goBack] = useFormProgress();\n  const [state, setState] = useState({\n    title: \"\",\n    intro: \"\",\n    ingredients: \"\",\n    directions: \"\",\n    tags: \"\",\n    photo: null,\n  });\n  const auth = useContext(AuthContext);\n  const server_url = (process.env.NODE_ENV === 'development')\n    ? 'http://localhost:5000'\n    : 'https://cookingsousviv-backend.herokuapp.com';\n\n\n  const handleChange = (event) => {\n    const value = event.target.value;\n    setState({\n      ...state,\n      [event.target.id]: value\n    });\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const formData = JSON.stringify({\n      title: state.title,\n      intro: state.intro,\n      ingredients: state.ingredients,\n      directions: state.directions,\n      tags: state.tags,\n      photo: state.photo\n    });\n\n    sendRequest(\n      `${server_url}/recipes/create`,\n      'POST',\n      {\n        Authorization: 'Bearer ' + auth.token,\n        'Content-Type': 'application/json'\n      },\n      formData,\n    ).then( async (res) => {\n      await history.replace(`${res.url}`)\n    }).catch((err) => {\n      console.log(err)\n    })\n  }\n\n  const steps = [\n    <SelectPhoto state={state} setState={setState} useFormProgress={useFormProgress}/>, \n    <WriteRecipe state={state} handleChange={handleChange}/>\n  ];\n  const isFirst = currentStep === 0;\n  const isLast = currentStep === steps.length - 1;\n\n  return(\n    <div>\n      <form onSubmit={handleSubmit}>\n        {steps[currentStep]}\n      </form>\n      <br />\n      <Button variant='outlined' onClick={() => history.replace('/recipes')}> Cancel </Button>\n      {!isFirst && \n        <Button \n          onClick={() => goBack()}\n        >\n          Go Back\n        </Button>\n      }\n      <Button \n        variant='outlined' \n        color='primary' \n        type='submit'\n        onClick={(e) => {\n          e.preventDefault();\n          isLast ? handleSubmit(e) : goForward();\n        }}\n      > \n        {isLast ? \"Create Post\" : \"Next\"} \n      </Button>\n    </div>\n  );\n}  \n\nexport default CreateRecipe;","import React, { useContext } from 'react';\nimport { useHttpClient } from '../../hooks/useHttpClient';\nimport { AuthContext } from '../../context/auth-context';\nimport { useHistory } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nconst UpdateRecipe = (props) => {\n  let history = useHistory();\n  const { sendRequest } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const server_url = (process.env.NODE_ENV === 'development')\n  ? 'http://localhost:5000'\n  : 'https://cookingsousviv-backend.herokuapp.com';\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const formData = JSON.stringify({\n      title: event.target.title.value,\n      intro: event.target.intro.value,\n      ingredients: event.target.ingredients.value,\n      directions: event.target.directions.value,\n      tags: event.target.tags.value,\n      id: props.location.recipe.id,\n      //instaPhoto: event.target.instaPhoto.value\n    });\n\n    sendRequest(\n      `${server_url}${props.location.pathname}`,\n      'POST',\n      {\n        Authorization: 'Bearer ' + auth.token,\n        'Content-Type': 'application/json'\n      },\n      formData,\n    ).then( async (res) => {\n      await history.replace(`${res.url}`)\n    }).catch((err) => {\n      console.log(err)\n    });\n  }\n\n  // const populateInstaPhotos = () => {\n  //   const server_url = (process.env.NODE_ENV === 'development')\n  //   ? 'http://localhost:5000'\n  //   : 'https://cookingsousviv-backend.herokuapp.com';\n\n  //   return axios.get(`${server_url}/recipes/update`)\n  //               .then(response => console.log(response))\n  //               .catch((err) => console.log(err));\n  // }\n\n  return(\n    <div>\n      <form onSubmit={handleSubmit}>\n        <TextField\n          id='title'\n          label='Title'\n          margin='normal'\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.location.recipe.title}\n        />\n        <br />\n        <TextField\n          id='intro'\n          label='Intro'\n          multiline\n          rows={20}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.location.recipe.intro}\n        />\n        <br />\n        <TextField\n          id='ingredients'\n          label='Ingredients'\n          multiline\n          rows={20}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.location.recipe.ingredients}\n        />\n        <br />\n        <TextField\n          id='directions'\n          label='Directions'\n          multiline\n          rows={40}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.location.recipe.directions}\n        />\n        <br />\n        <TextField\n          id='tags'\n          label='Tags'\n          multiline\n          rows={6}\n          margin=\"normal\"\n          variant='outlined'\n          fullWidth={true}\n          defaultValue={props.location.recipe.tags}\n        />\n        <br />\n\n        <Button variant='outlined' color='primary' type='submit'> Update </Button>\n\n      </form>\n\n      <br />\n      <Button variant='outlined' onClick={() => history.replace('/recipes')}> Cancel </Button>\n      \n    </div>\n  );\n}\n  \nexport default UpdateRecipe;","import React, { useContext } from 'react';\nimport { useHttpClient } from '../../hooks/useHttpClient';\nimport { AuthContext } from '../../context/auth-context';\nimport { useHistory } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\n\nconst DeleteRecipe = (props) => {\n  let history = useHistory();\n  const { sendRequest } = useHttpClient();\n  const auth = useContext(AuthContext);\n  const recipe = JSON.stringify(props.location.recipe);\n  const server_url = (process.env.NODE_ENV === 'development')\n  ? 'http://localhost:5000'\n  : 'https://cookingsousviv-backend.herokuapp.com';\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    sendRequest(\n      `${server_url}${props.location.pathname}`,\n      'POST',\n      {\n          Authorization: 'Bearer ' + auth.token,\n          'Content-Type': 'application/json'\n      },\n      recipe\n    ).then( async (res) => {\n        await alert(res)\n        history.push(`/recipes`)\n    }).catch((err) => {\n        console.log(err)\n    });\n  };\n\n  return(\n    <div>\n      <form onSubmit={handleSubmit}>\n        <h2>Are you sure you want to delete {props.location.recipe.title} </h2>\n        <br />\n        <Button variant='outlined' color='primary' type='submit'> Yes </Button>\n        <Button variant='outlined' onClick={() => history.push(`/recipes`)}> No </Button>\n      </form>\n    </div>\n  );\n}\n  \nexport default DeleteRecipe;","import { useState } from 'react';\n\nconst useInput = (defaultValue) => {\n  const [value, setValue] = useState(defaultValue);\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n\n  return { value, setValue, onChange };\n};\n\nexport default useInput;","import React, { useContext } from 'react';\nimport { useHttpClient } from '../hooks/useHttpClient';\nimport { AuthContext } from '../context/auth-context';\n\n\nfunction Comment( {comment, recipeId, onChange} ) {\n  const auth = useContext(AuthContext);\n  const { sendRequest } = useHttpClient(); \n  const server_url = (process.env.NODE_ENV === 'development')\n  ? 'http://localhost:5000'\n  : 'https://cookingsousviv-backend.herokuapp.com';\n\n  function handleDelete(event) {\n    event.preventDefault();\n\n    sendRequest(\n      `${server_url}/recipes/${recipeId}/comments/${comment._id}`,\n      'DELETE',\n      {\n          Authorization: 'Bearer ' + auth.token,\n          'Content-Type': 'application/json'\n      },\n    ).then( async (res) => {\n        return res;\n    }).catch((err) => {\n        console.log(err)\n    });\n\n    onChange();\n  }\n  \n  return (\n    <li \n      key={comment._id}\n    >\n      <span>\n        {comment.userAuthor ? comment.userAuthor.name : comment.guestAuthor}\n      </span>\n      {comment.comment}\n      {comment.isCommentMine && \n        <div>\n          <button onClick={handleDelete}>Delete</button>\n        </div>\n      }\n    </li>\n  )\n}\n\nexport default Comment;","import React from 'react';\n\nexport const HeartIcon = (props) => (\n  <svg\n    {...props}\n    aria-label=\"Activity Feed\"\n    fill=\"#262626\"\n    height=\"22\"\n    viewBox=\"0 0 48 48\"\n    width=\"22\"\n  >\n    <path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\n  </svg>\n);\n\nexport const FilledHeartIcon = (props) => (\n  <svg\n    {...props}\n    aria-label=\"Unlike\"\n    fill=\"#ed4956\"\n    height=\"24\"\n    viewBox=\"0 0 48 48\"\n    width=\"24\"\n  >\n    <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\n  </svg>\n);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHttpClient } from '../hooks/useHttpClient';\nimport { AuthContext } from '../context/auth-context'\nimport { HeartIcon, FilledHeartIcon } from './Icons';\n\nfunction LikeRecipe({ isLiked, recipeId, incLikes, decLikes }) {\n  const auth = useContext(AuthContext);\n  const { sendRequest } = useHttpClient(); \n  const [liked, setLiked] = useState(isLiked);\n  const server_url = (process.env.NODE_ENV === 'development')\n  ? 'http://localhost:5000'\n  : 'https://cookingsousviv-backend.herokuapp.com';\n\n  useEffect(() => {\n    setLiked(isLiked);\n  }, [isLiked]);\n\n  function handleToggleLike() {\n    if(liked) {\n      setLiked(false);\n      decLikes();\n      sendRequest(\n        `${server_url}/recipes/${recipeId}/toggleLike`, \n        'GET', \n        {\n          Authorization: 'Bearer ' + auth.token,\n          'Content-Type': 'application/json',\n        }\n      )  \n    } else {\n      setLiked(true);\n      incLikes();\n      sendRequest(\n        `${server_url}/recipes/${recipeId}/toggleLike`, \n        'GET', \n        {\n          Authorization: 'Bearer ' + auth.token,\n          'Content-Type': 'application/json',\n        }\n      )  \n    }\n  };\n\n  if(liked) {\n    return <FilledHeartIcon onClick={handleToggleLike} />\n  }\n\n  if(!liked) {\n    return <HeartIcon onClick={handleToggleLike} />\n  }\n}\n\nexport default LikeRecipe;","import React, { useState, useEffect, useContext } from 'react'\nimport useInput from '../hooks/useInput';\nimport Button from '@material-ui/core/Button'\nimport { AuthContext } from '../context/auth-context'\nimport { useHttpClient } from '../hooks/useHttpClient';\nimport Comment from './Comment';\nimport LikeRecipe from './LikeRecipe'\n//import Grid from '@material-ui/core/Grid'\n\nfunction Recipe(props) {\n  const auth = useContext(AuthContext);\n  const { sendRequest } = useHttpClient(); \n  const server_url = (process.env.NODE_ENV === 'development')\n    ? 'http://localhost:5000'\n    : 'https://cookingsousviv-backend.herokuapp.com';\n  const comment = useInput('');\n  const guestAuthor = useInput('');\n  const id = props.recipe[0].id;\n  const [updating, setUpdating] = useState(false);\n  const [recipe, setRecipe] = useState({\n    title: '',\n    intro: '',\n    ingredients: '',\n    directions: '',\n    tags: '',\n    id: '',\n    instaPhoto: {},\n    comments: [],\n    likes: [],\n    likesCount: '',\n    fetched: false,\n  });\n  const [likesState, setLikes] = useState(recipe.likesCount);\n\n  useEffect(() => {   \n    let mounted = true;\n\n    function getRecipe(server_url) {\n      const header = {\n        'Content-Type': 'application/json'\n      };\n      if(auth.token) {\n        header.Authorization = 'Bearer ' + auth.token;\n      }\n  \n      return sendRequest(\n          `${server_url}/recipes/${id}`, \n          'GET',\n          header,\n        )\n        .then(res => res)\n        .catch(err => {\n          console.log(err);\n        }\n      );\n    };\n\n    if(recipe.fetched && !updating) {\n      return;\n    }\n\n    getRecipe(server_url)\n      .then(recipePage => {\n        if (recipePage && mounted) {\n          setRecipe({...recipe,\n            title: props.recipe[0].title,\n            intro: props.recipe[0].intro,\n            ingredients: props.recipe[0].ingredients,\n            directions: props.recipe[0].directions,\n            tags: props.recipe[0].tags,\n            id: props.recipe[0].id,\n            instaPhoto: props.recipe[0].instaPhoto,\n            comments: recipePage.data.comments,\n            likes: recipePage.data.likes,\n            likesCount: recipePage.data.likesCount,\n            isLiked: recipePage.data.isLiked,\n            fetched: true\n          })\n        }\n        return () => mounted = false;\n  })\n  }, [updating, recipe, server_url, props.recipe, auth.token, id, sendRequest])\n\n  useEffect(() => {\n    if(updating) {\n      setTimeout(() => {\n        setUpdating(false);\n      }, 500)\n    }\n  }, [updating])\n\n  const incLikes = () => setLikes(likesState + 1);\n  const decLikes = () => setLikes(likesState - 1);\n\n  function handleCommentSubmit(event) {\n    event.preventDefault();\n    const registeredUser = auth.isLoggedIn;\n    const userInfo = auth.isLoggedIn ? auth.userId : guestAuthor.value;\n    const formData = JSON.stringify({\n      comment: comment.value,\n      registeredUser: registeredUser,\n      userInfo: userInfo,\n    });\n\n    sendRequest(\n      `${server_url}/recipes/${id}/comments`, \n      'POST',\n      {\n        'Content-Type': 'application/json'\n      },\n      formData\n    )\n    .then(res => console.log(res))\n    .catch(err => {\n      console.log(err)\n    })\n\n    guestAuthor.setValue('');\n    comment.setValue('');\n    setUpdating(true);\n  }\n\n  function handleCommentDelete() {\n    setUpdating(true);\n  }\n\n  return (\n    <div className='recipe-page'>\n      <div className='recipe-card'>\n        <div className='recipe-card-header row'>\n          <h3 className='recipe-card-title'>{recipe.title}</h3>\n        </div>\n        <hr className='recipe-card-divider'></hr>\n        <div className='recipe-card-top row'>\n          <div className='recipe-card-sub-header col-lg-4'>\n            <p className='recipe-card-intro'>{recipe.intro}</p>\n          </div>\n          <div className='recipe-card-image-container col-lg-8'>\n            <img src={recipe.instaPhoto.media_url} alt=\"food\" className=\"recipe-card-image\"></img>\n          </div>\n        </div>\n        <hr className='recipe-card-divider'></hr>\n        <div className='recipe-card-middle row'>\n          <div className='recipe-card-ingredients col-lg-4'>\n            <h4>Ingredients</h4>\n            <p>{recipe.ingredients}</p>\n          </div>\n          <div className='recipe-card-directions col-lg-8'>\n            <h4>Preparation</h4>\n            <p>{recipe.directions}</p>\n          </div>\n        </div>\n        <div className='recipe-card-bottom row'>\n          <p id='recipe-card-tags'>{recipe.tags}</p>\n        </div>\n      </div>\n\n      <div className='recipe-actions'>\n        {auth.isLoggedIn && <LikeRecipe \n          isLiked={recipe.isLiked}\n          recipeId={recipe.id}\n          incLikes={incLikes}\n          decLikes={decLikes}\n        /> }\n      </div>\n      <div className='likes'>\n        {recipe.likesCount !== 0 && (\n          <span className='likes bold'>\n            {recipe.likesCount} {recipe.likesCount > 1 ? 'likes' : 'like'}\n          </span>\n        )}\n      </div>\n      <div className='comments-container'>\n        {recipe.comments.map((comment, i) => (\n          <Comment key={i} comment={comment} recipeId={recipe.id} onChange={handleCommentDelete} />\n        ))}\n      </div>\n      <div>\n        <form>\n          {!auth.isLoggedIn && \n          <input\n            name='guestAuthor'\n            placeholder='Enter your name...'\n            value={guestAuthor.value}\n            onChange={guestAuthor.onChange}\n          />\n          }\n          <textarea\n            name='content'\n            rows='5'\n            placeholder='Enter comment...'\n            value={comment.value}\n            onChange={comment.onChange}\n          />\n          <button onClick={handleCommentSubmit}></button>\n        </form>\n      </div>\n\n      {auth.isAdmin && <div>\n        <Button variant='outlined' onClick={() => props.history.push({\n          pathname: `${props.history.location.pathname}/update`, \n          recipe: recipe\n        }) }> \n          Update \n        </Button>\n\n        <Button variant='outlined' onClick={() => props.history.push({\n          pathname: `${props.history.location.pathname}/delete`, \n          recipe: recipe\n        }) }> \n          Delete \n        </Button>\n      </div>}\n    </div>\n  )\n}\n\nexport default Recipe","import React, { useState, useEffect, useContext } from 'react';\nimport { Link, Route, Switch, matchPath, } from 'react-router-dom';\nimport { AuthContext } from '../../context/auth-context';\nimport axios from 'axios';\nimport Recipe from '../../components/Recipe';\nimport Button from '@material-ui/core/Button';\nimport '../../styles/recipes/styles.css';\nimport { arrowFunctionExpression } from \"@babel/types\" // eslint-disable-line no-unused-vars \n\nfunction getRecipeList(server_url) {\n  return axios.get(`${server_url}/recipes`)\n    .then(res => res.data.recipe_list)\n    .catch(err => {\n      console.log(err);\n    }\n  );\n};\n\nfunction Recipes({history}) {\n  const [recipes, setRecipes] = useState([]);\n  const auth = useContext(AuthContext);\n  const server_url = (process.env.NODE_ENV === 'development')\n    ? 'http://localhost:5000'\n    : 'https://cookingsousviv-backend.herokuapp.com';\n\n  const match = matchPath(history.location.pathname, {\n    path: \"/recipes/:id\"\n  });\n  \n  let recipeId;\n  \n  if (match && match.params.id) {\n    recipeId = match.params.id;\n  }\n\n  useEffect(() => {\n    let mounted = true\n    getRecipeList(server_url)\n      .then(recipe_list => {\n        if(mounted) {\n          setRecipes(recipe_list);\n        }\n      })\n    return () => mounted = false;\n  }, [server_url]);\n\n  return(\n    <div>\n      <h1>RECIPES</h1>\n\n      <ul className=\"list-group recipe-list\">\n        { history.location.pathname === '/recipes' ?\n          recipes.map(({ title, intro, url, instaPhoto }) =>\n            <li key={url} className=\"list-group-item\">\n              <div className=\"recipe-image-container\">\n                {/* <div className=\"recipe-image-dummy\"></div> */}\n                <img src={instaPhoto.media_url} alt=\"food\" className=\"recipe-image\"></img>\n              </div>\n              <div className=\"recipe-text-container\">\n                <Link to={`${url}`} className=\"align-top recipe-title row\">\n                  {title}\n                </Link>\n                <p className=\"recipe-intro row\">{intro}</p>\n              </div>\n            </li> \n          ) : ''\n        }\n        <Switch>\n          <Route exact path=\"/recipes/:id\" render={(props) => ( <Recipe recipe={recipes.filter( recipe => recipe.url === `/recipes/${recipeId}` )} {...props} /> )} />\n        </Switch>\n        { auth.isAdmin && history.location.pathname==='/recipes' && (\n          <Button \n            variant='outlined' \n            onClick={() => history.replace('/recipes/create')}\n          > \n            Create \n          </Button>\n        )}\n      </ul> \n\n    </div>\n  );\n}\n\nexport default Recipes;","import React from \"react\"\nimport { Link } from \"react-router-dom\"\n\nconst Unauthorized = () => {\n    return (\n        <div>\n            <h1>403 ERROR - ACCESS DENIED</h1>\n            <p><Link to=\"/\">Back to Home</Link></p>\n        </div>\n    )\n}\n\nexport default Unauthorized;\n\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Home from './pages/home';\nimport About from './pages/about';\nimport Contact from './pages/contact';\nimport Favorites from './pages/favorites';\nimport CreateRecipe from './pages/recipes/create';\nimport UpdateRecipe from './pages/recipes/update';\nimport DeleteRecipe from './pages/recipes/delete';\nimport Recipes from './pages/recipes/index';\nimport Unauthorized from './components/Unauthorized';\n\nfunction Routes() {    \n  return(\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/about\" component={About} />\n      <Route path=\"/contact\" component={Contact} />\n      <Route path=\"/favorites\" component={Favorites} />\n      <ProtectedRoute path=\"/recipes/create\" component={CreateRecipe} />\n      <ProtectedRoute path=\"/recipes/:id/update\" component={UpdateRecipe} />\n      <ProtectedRoute path=\"/recipes/:id/delete\" component={DeleteRecipe} /> \n      <Route path=\"/recipes\" component={Recipes} />\n      <Route path= \"/unauthorized\" component={Unauthorized} />\n    </Switch>\n  );\n}\n\nexport default Routes;","import React, { useContext } from 'react';\nimport { AuthContext } from '../context/auth-context';\nimport Axios from 'axios';\nimport GoogleLogin from \"react-google-login\"\nimport Button from '@material-ui/core/Button'\n\nconst Auth = () => {\n    const auth = useContext(AuthContext);\n    const server_url = (process.env.NODE_ENV === 'development')\n    ? 'http://localhost:5000'\n    : 'https://cookingsousviv-backend.herokuapp.com'\n\n\n\n    const authResponseSuccess = (res) => {\n        Axios({\n            method: \"POST\",\n            url: `${server_url}/auth/google`,\n            data: {tokenId: res.tokenId}\n        }).then(res => {\n            auth.login(res.data.user._id, res.data.token, res.data.user.admin)\n        })\n    }\n\n    const authResponseFailure = (res) => {\n        console.log(res)\n    }\n\n    let button\n    if(!auth.isLoggedIn) {\n        button = <GoogleLogin\n            clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n            buttonText=\"Login with Google\"\n            onSuccess={authResponseSuccess}\n            onFailure={authResponseFailure}\n            cookiePolicy={'single_host_origin'}\n        />\n    } else {\n        button = <Button variant='outlined' onClick={auth.logout} >Logout</Button>\n    }\n\n    return(\n        <div>\n            {button}\n        </div>\n    )\n}\n\nexport default Auth;","import React, { useState, useCallback, useEffect } from 'react';\nimport Navbar from './components/Navbar';\nimport Routes from './Routes';\nimport Auth from './components/Auth';\nimport { AuthContext } from './context/auth-context';\n//import queryString from \"query-string\"\nimport './styles/styles.css';\n\nfunction App() {\n  const [userId, setUserId] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  //const [error, setError] = useState(null)\n  const [token, setToken] = useState(false);\n\n  const login = useCallback((uid, token, admin, expirationDate) => {\n    setToken(token);\n    setUserId(uid);\n    setIsAdmin(admin);\n    const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60 * 24);\n    localStorage.setItem(\n      'userData',\n      JSON.stringify({ \n        token: token, \n        userId: uid, \n        admin: admin,\n        expiration: tokenExpirationDate.toISOString()\n      })\n    );\n  }, []);\n  \n  const logout = useCallback(() => {\n    setToken(null);\n    setUserId(null);\n    setIsAdmin(null);\n    localStorage.removeItem('userData');\n  }, []);\n\n  useEffect( () => {\n    const storedData = JSON.parse(localStorage.getItem('userData'));\n    if(\n      storedData && \n      storedData.token && \n      new Date(storedData.expiration) > new Date()\n    ) {\n      login(storedData.userId , storedData.token, storedData.admin, new Date(storedData.expiration))\n    }\n  }, [login])\n\n  return (\n    <div className=\"app\">\n      <AuthContext.Provider\n        value={{\n          isLoggedIn: !!token,\n          token: token,\n          userId: userId,\n          isAdmin: isAdmin,\n          login: login,\n          logout: logout,\n        }}\n      >\n        <Navbar />\n        <Auth></Auth>\n        <Routes />\n      </AuthContext.Provider>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <CssBaseline />\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}