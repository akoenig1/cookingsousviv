{"ast":null,"code":"var _jsxFileName = \"/Users/akoenig/Documents/coding/webdev/cookingsousviv/src/Instafeed.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport LoadButton from \"./LoadButton\";\n\nclass Instafeed extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      all_photos: [],\n      displayed_photos: [],\n      additional_photos: true,\n      num_photos_displayed: 32\n    };\n    this.retrievePhotos();\n    this.retrievePhotos = this.retrievePhotos.bind(this);\n    this.handleShowMore = this.handleShowMore.bind(this);\n    this.myRef = React.createRef();\n  }\n\n  scroll(ref) {\n    ref.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n\n  retrievePhotos() {\n    const fields = \"id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username\";\n    let user_id = \"17841401439222266\";\n    let token = 'IGQVJYaWFVX3ZASU1BScXB6d0t5RHBSS0ZAfdGFiekV1eGJ2cFp0NW5IYXJYZAmZAWRU5adV9qWnJzTHVJMjJGTEg1aHVQZA2hkWDViN1diSU81MnExTFJKajg2R0RLVHFMTTl2bGJlRS1pOE5ENDhzeHZA5bgZDZD';\n    let photo_limit = 1000;\n    axios.get(`https://graph.instagram.com/${user_id}/media?fields=${fields}&access_token=${token}&limit=${photo_limit}`).then(res => {\n      this.setState({\n        all_photos: res.data.data,\n        displayed_photos: Object.values(res.data.data).slice(0, this.state.num_photos_displayed),\n        num_photos_displayed: this.state.num_photos_displayed + 32\n      });\n      this.checkForAdditionalPhotos();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  checkForAdditionalPhotos() {\n    if (this.state.num_photos_displayed < this.state.all_photos.length) {\n      this.setState({\n        additional_photos: true\n      });\n    } else {\n      this.setState({\n        additional_photos: false\n      });\n    }\n  }\n\n  handleShowMore() {\n    this.setState({\n      displayed_photos: Object.values(this.state.all_photos).slice(0, this.state.num_photos_displayed),\n      num_photos_displayed: this.state.num_photos_displayed + 30\n    });\n    this.checkForAdditionalPhotos();\n    this.scroll(this.myRef);\n  }\n\n  render() {\n    console.log(this.state.all_photos);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"instafeed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, this.state.displayed_photos.map(photo => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-6 col-md-4 col-lg-3\",\n        key: photo.timestamp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: photo.permalink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"photo-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: photo.media_type === \"VIDEO\" ? photo.thumbnail_url : photo.media_url,\n        alt: photo.caption,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"likes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require('./images/heart.png'),\n        alt: \"heart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 60\n        }\n      })))));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.myRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }), this.state.additional_photos ? /*#__PURE__*/React.createElement(LoadButton, {\n      handleShowMore: this.handleShowMore,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 23\n      }\n    }) : null);\n  }\n\n}\n\nexport default Instafeed;","map":{"version":3,"sources":["/Users/akoenig/Documents/coding/webdev/cookingsousviv/src/Instafeed.js"],"names":["React","axios","LoadButton","Instafeed","Component","constructor","props","state","all_photos","displayed_photos","additional_photos","num_photos_displayed","retrievePhotos","bind","handleShowMore","myRef","createRef","scroll","ref","current","scrollIntoView","behavior","fields","user_id","token","photo_limit","get","then","res","setState","data","Object","values","slice","checkForAdditionalPhotos","catch","err","console","log","length","render","map","photo","timestamp","permalink","media_type","thumbnail_url","media_url","caption","require"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport LoadButton from \"./LoadButton\"\n\nclass Instafeed extends React.Component {\n    state = {\n        all_photos: [],\n        displayed_photos: [],\n        additional_photos: true,\n        num_photos_displayed: 32,\n    }\n\n    constructor(props) {\n        super(props)\n\n        this.retrievePhotos()\n\n        this.retrievePhotos = this.retrievePhotos.bind(this)\n        this.handleShowMore = this.handleShowMore.bind(this)\n\n        this.myRef = React.createRef();\n    }\n\n    scroll(ref) {\n        ref.current.scrollIntoView({behavior: 'smooth'})\n    }\n\n    retrievePhotos() {\n        const fields = \"id,caption,media_type,media_url,permalink,thumbnail_url,timestamp,username\"\n        let user_id = \"17841401439222266\"\n        let token = 'IGQVJYaWFVX3ZASU1BScXB6d0t5RHBSS0ZAfdGFiekV1eGJ2cFp0NW5IYXJYZAmZAWRU5adV9qWnJzTHVJMjJGTEg1aHVQZA2hkWDViN1diSU81MnExTFJKajg2R0RLVHFMTTl2bGJlRS1pOE5ENDhzeHZA5bgZDZD'\n        let photo_limit = 1000\n\n        axios.get(`https://graph.instagram.com/${user_id}/media?fields=${fields}&access_token=${token}&limit=${photo_limit}`)\n        .then(res => {\n            this.setState({ \n                all_photos: res.data.data,\n                displayed_photos: Object.values(res.data.data).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + 32 \n            });\n            this.checkForAdditionalPhotos()\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    checkForAdditionalPhotos() {\n        if (this.state.num_photos_displayed < this.state.all_photos.length) {\n            this.setState({ additional_photos: true })\n        } else {\n            this.setState({ additional_photos: false })  \n        }\n    }\n\n    handleShowMore() {\n        this.setState({ \n            displayed_photos: Object.values(this.state.all_photos).slice(0, this.state.num_photos_displayed),\n            num_photos_displayed: this.state.num_photos_displayed + 30 \n        })\n        this.checkForAdditionalPhotos()\n        this.scroll(this.myRef)\n    }\n\n    render() {\n        console.log(this.state.all_photos)\n        return(\n            <div id=\"instafeed\">\n                { this.state.displayed_photos.map((photo) => {\n                    return(\n                        <div className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3\" key={photo.timestamp}>\n                            <a href={photo.permalink}>\n                                <div className=\"photo-box\">\n                                    <div className=\"image-wrap\">\n                                        <img \n                                            src={photo.media_type === \"VIDEO\"\n                                                ? photo.thumbnail_url\n                                                : photo.media_url\n                                            } \n                                            alt={photo.caption} \n                                        />\n                                    </div>\n                                    <div className=\"likes\"><img src={require('./images/heart.png')} alt=\"heart\" /></div>\n                                </div>\n                            </a>\n                        </div>\n                    )\n                })}\n                <div ref={this.myRef}></div>\n                {this.state.additional_photos \n                    ? <LoadButton handleShowMore = {this.handleShowMore} />\n                    : null\n                }\n            </div>\n        )\n    }\n  }\n\n  export default Instafeed"]},"metadata":{},"sourceType":"module"}