{"ast":null,"code":"var _jsxFileName = \"/Users/akoenig/Documents/coding/webdev/cookingsousviv/src/Instafeed.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport 'dotenv/config';\n\nclass Instafeed extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      all_photos: [],\n      displayed_photos: [],\n      additional_photos: true,\n      num_photos_displayed: 32\n    };\n    this.server_url = process.env.NODE_ENV === 'development' ? 'http://localhost:3000' : '';\n    this.getPhotos();\n    this.getPhotos = this.getPhotos.bind(this);\n    this.handleShowMore = this.handleShowMore.bind(this);\n  }\n\n  componentWillMount() {\n    window.addEventListener('scroll', this.handleShowMore);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleShowMore);\n  }\n\n  getPhotos() {\n    axios.get(`${this.server_url}/instaPhotos`).then(res => {\n      this.setState({\n        all_photos: res.data,\n        displayed_photos: Object.values(res.data).slice(0, this.state.num_photos_displayed),\n        num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display\n      });\n      this.checkForAdditionalPhotos();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  checkForAdditionalPhotos() {\n    if (this.state.num_photos_displayed < this.state.all_photos.length) {\n      this.setState({\n        additional_photos: true\n      });\n    } else {\n      this.setState({\n        additional_photos: false\n      });\n    }\n  }\n\n  handleShowMore() {\n    if (window.innerHeight + document.documentElement.scrollTop + 1 >= document.scrollingElement.scrollHeight) {\n      this.setState({\n        displayed_photos: Object.values(this.state.all_photos).slice(0, this.state.num_photos_displayed),\n        num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display\n      });\n      this.checkForAdditionalPhotos();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"instafeed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, this.state.displayed_photos.map((photo, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-6 col-md-4 col-lg-3\",\n        key: photo.timestamp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: photo.permalink,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"photo-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: photo.media_type === \"VIDEO\" ? photo.thumbnail_url : photo.media_url,\n        alt: photo.caption,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"likes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require('./images/heart.png'),\n        alt: \"heart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 60\n        }\n      })))));\n    }));\n  }\n\n}\n\nInstafeed.number_of_new_photos_to_display = 32;\nexport default Instafeed;","map":{"version":3,"sources":["/Users/akoenig/Documents/coding/webdev/cookingsousviv/src/Instafeed.js"],"names":["React","axios","Instafeed","Component","constructor","props","state","all_photos","displayed_photos","additional_photos","num_photos_displayed","server_url","process","env","NODE_ENV","getPhotos","bind","handleShowMore","componentWillMount","window","addEventListener","componentWillUnmount","removeEventListener","get","then","res","setState","data","Object","values","slice","number_of_new_photos_to_display","checkForAdditionalPhotos","catch","err","console","log","length","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","render","map","photo","index","timestamp","permalink","media_type","thumbnail_url","media_url","caption","require"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport 'dotenv/config'\n\nclass Instafeed extends React.Component {\n    state = {\n        all_photos: [],\n        displayed_photos: [],\n        additional_photos: true,\n        num_photos_displayed: 32,\n    }\n    server_url = (process.env.NODE_ENV === 'development')\n        ? 'http://localhost:3000'\n        : ''\n\n    constructor(props) {\n        super(props)\n\n        this.getPhotos()\n\n        this.getPhotos = this.getPhotos.bind(this)\n        this.handleShowMore = this.handleShowMore.bind(this)\n    }\n\n    static number_of_new_photos_to_display = 32\n\n    componentWillMount(){\n        window.addEventListener('scroll', this.handleShowMore);\n    }\n    \n    componentWillUnmount(){\n        window.removeEventListener('scroll', this.handleShowMore);\n    }\n\n    getPhotos() {\n        axios.get(`${this.server_url}/instaPhotos`)\n        .then(res => {\n            this.setState({ \n                all_photos: res.data,\n                displayed_photos: Object.values(res.data).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display \n            });\n            this.checkForAdditionalPhotos()\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    checkForAdditionalPhotos() {\n        if (this.state.num_photos_displayed < this.state.all_photos.length) {\n            this.setState({ additional_photos: true })\n        } else {\n            this.setState({ additional_photos: false })  \n        }\n    }\n\n    handleShowMore() {\n        if (window.innerHeight + document.documentElement.scrollTop + 1 >= document.scrollingElement.scrollHeight) {\n            this.setState({ \n                displayed_photos: Object.values(this.state.all_photos).slice(0, this.state.num_photos_displayed),\n                num_photos_displayed: this.state.num_photos_displayed + Instafeed.number_of_new_photos_to_display \n            })\n            this.checkForAdditionalPhotos()\n        }\n    }\n\n    render() {\n        return(\n            <div id=\"instafeed\">\n                { this.state.displayed_photos.map((photo, index) => {\n                    return(\n                        <div \n                            className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3\" \n                            key={photo.timestamp}\n                        >\n                            <a href={photo.permalink}>\n                                <div className=\"photo-box\">\n                                    <div className=\"image-wrap\">\n                                        <img \n                                            src={photo.media_type === \"VIDEO\"\n                                                ? photo.thumbnail_url\n                                                : photo.media_url\n                                            } \n                                            alt={photo.caption} \n                                        />\n                                    </div>\n                                    <div className=\"likes\"><img src={require('./images/heart.png')} alt=\"heart\" /></div>\n                                </div>\n                            </a>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n  }\n\n  export default Instafeed"]},"metadata":{},"sourceType":"module"}